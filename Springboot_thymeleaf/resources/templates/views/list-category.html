<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/admin_layout.html}">
<head>
<meta charset="UTF-8">
<title>Danh sách category</title>
</head>
<body>
	<section class="row" layout:fragment="content">
		<div class="col mt-4">
			<div class="card">
				<div class="card-header">Danh sách category</div>
				<div class="card-body">
					<div th:if="@{msg != null}" class="alert alert-primary"
						role="alert">
						<i th:text="${msg}">Thông báo</i>
					</div>
					<form method="post" th:action="@{/category/list}">
						Rows per page: <input type="number" name="rowEachPage"
							th:value="${rowEachPage}" min="1" /> <input type="submit"
							value="Apply" />
					</form>

					<table border="1" class="table table-bordered mt-3">
						<thead>
							<tr>
								<th>#</th>
								<th>Ảnh</th>
								<th>Tên category</th>
								<th>User ID</th>
								<th>Hành động</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="cate, STT : ${categories}">
								<td th:text="${STT.index + 1}">1</td>

								<td><img th:src="@{/image(fname=${cate.images})}"
									height="150" width="200" alt="Image" /></td>

								<td th:text="${cate.categoryName}">Tên category</td>
								<td th:text="'user id: ' + ${cate.uid}">user id</td>

								<td><a th:href="@{/category/edit/{id}(id=${cate.id})}"
									class="center">Sửa</a> | <a
									th:href="@{/category/delete/{id}(id=${cate.id})}"
									class="center">Xóa</a></td>
							</tr>
						</tbody>
					</table>

					<!-- Hiển thị trang hiện tại -->
					<div>
						<span th:text="${pages}">1</span> / <span th:text="${totalPages}">1</span>
					</div>
					<!-- Điều hướng trang -->
					<div>
						<span th:if="${pages > 1}"> <a
							th:href="@{/category/list(pages=${pages - 1}, rowEachPage=${rowEachPage})}">Previous</a>
						</span> <span th:unless="${pages > 1}" style="color: gray;">Previous</span>

						| <span th:if="${pages < totalPages}"> <a
							th:href="@{/category/list(pages=${pages + 1}, rowEachPage=${rowEachPage})}">Next</a>
						</span> <span th:unless="${pages < totalPages}" style="color: gray;">Next</span>
					</div>
				</div>
			</div>
		</div>
	</section>
</body>
</html>